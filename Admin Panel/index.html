<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CollisionCatcher ‚Äî Login & Admin</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="wrap" id="loginView">
    <div class="card-login" role="dialog" aria-labelledby="login-title">
      <div class="brand" aria-hidden="false">
        <img src="image.png" alt="Collision Catcher Logo">
        <div>
          <h1 id="login-title">CollisionCatcher Admin</h1>
          <p>Secure access to your control panel</p>
        </div>
      </div>

      <div class="title">Welcome back</div>
      <div class="subtitle">Sign in to manage users and monitor alerts</div>

      <form id="loginForm" onsubmit="return false;" aria-describedby="notice">
        <div class="field">
          <input id="username" type="text" placeholder=" " autocomplete="username" required />
          <label class="label" for="username">Email or username</label>
        </div>

        <div class="field">
          <input id="password" type="password" placeholder=" " autocomplete="current-password" required />
          <label class="label" for="password">Password</label>
        </div>

        <div style="display:flex;justify-content:flex-end;align-items:center;margin-top:6px">
          <a class="link" href="#" id="forgotLink">Forgot password?</a>
        </div>

        <div class="actions">
          <button class="btn" id="loginBtn" type="button">Sign in</button>
        </div>

        <div class="foot">
          <div>Don't have an account? <a class="link" href="#">Contact owner</a></div>
          <div style="opacity:0.85">v1.0</div>
        </div>

        <div id="notice" class="notice" role="status" aria-live="polite"></div>
      </form>
    </div>
  </div>

  <div class="app" id="adminApp" aria-hidden="true">
    <aside class="sidebar card" aria-label="Sidebar">
      <div class="brand-small">
        <img src="image.png" alt="Logo">
        <div>
          <div style="font-weight:700">CollisionCatcher</div>
          <div class="muted" style="font-size:12px">Admin Panel</div>
        </div>
      </div>

      <nav class="nav" role="navigation" aria-label="Main navigation">
        <a href="#" id="nav-dashboard" class="active" data-target="dashboard">üè† Dashboard</a>
        <a href="#" id="nav-users" class="inactive" data-target="users">üë• Manage Users</a>
        <a href="#" id="nav-reports" class="inactive" data-target="reports">üßæ Manage Reports</a>
      </nav>

      <div class="meta">
        <div class="muted">Signed in as</div>
        <div id="signedInUser" style="font-weight:700;margin-top:6px">admin@collisioncatcher.local</div>
      </div>

      <div class="logout">
        <div class="muted">v1.0</div>
        <div>
          <button id="logoutBtn" class="ghost" type="button">Logout</button>
        </div>
      </div>
    </aside>

    <main class="main" id="mainApp">
      <header class="topbar" role="banner">
        <div>
          <h2 style="font-size:22px;font-weight:800"><span id="header-page-name">Dashboard</span></h2>
          <div class="muted" style="margin-top:6px">Overview & quick actions</div>
        </div>

        <div style="display:flex;gap:10px;align-items:center">
          <!-- <div class="search card" style="align-items:center">
            <svg width="16" height="16" viewBox="0 0 24 24" style="opacity:0.9" aria-hidden="true"><path fill="currentColor" d="M21 21l-4.35-4.35M11 19a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"></path></svg>
            <input id="globalSearch" placeholder="Search users, reports, alerts..." aria-label="Global search" />
          </div> -->
          <button id="notifBtn" class="icon-btn" title="Notifications" type="button">üîî</button>
        </div>
      </header>

      <section id="dashboard-grid" class="grid" style="position:relative;gap:18px" aria-live="polite">
        <div class="card col-4">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <p class="muted">Total Users</p>
              <div id="stat-total-users" class="kpi num" style="font-size:20px;font-weight:800">0</div>
            </div>
          </div>
        </div>

        <div class="card col-4">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <p class="muted">Total Vehicles</p>
              <div id="stat-total-vehicles" class="kpi num" style="font-size:20px;font-weight:800">0</div>
            </div>
            <div class="pill">Fleet</div>
          </div>
        </div>

        <div class="card col-4">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <p class="muted">Active Alerts</p>
              <div id="stat-active-alerts" class="kpi num" style="font-size:20px;font-weight:800;color:#ffb4b4">0</div>
            </div>
            <div class="pill">Critical</div>
          </div>
        </div>

        <div class="card col-8">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
            <h3>Recent Active Alerts</h3>
            <div class="muted">Last 24 hours</div>
          </div>
          <div style="overflow:auto">
            <table>
              <thead>
                <tr><th>User</th><th>Type</th><th>Location</th><th>Time</th></tr>
              </thead>
              <tbody id="dashboard-alerts-table">
                <tr><td colspan="4" class="muted" style="padding:14px;text-align:center">No active alerts.</td></tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="card col-4">
          <h3>Alerts Hotspot Map</h3>
          <div style="height:180px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);display:flex;align-items:center;justify-content:center;margin-top:12px;">
            <div class="muted">Map Placeholder</div>
          </div>
        </div>
      </section>

      <section id="page-users-block" class="card" style="display:none;margin-top:8px">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
          <h3>All Registered Users</h3>
          <div style="display:flex;gap:8px;align-items:center">
            <input id="userSearch" placeholder="Search users..." style="padding:8px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;outline:none" />
          </div>
        </div>

        <div style="overflow:auto">
          <table>
            <thead>
              <tr><th>Name</th><th>Email</th><th>Phone</th><th>Actions</th></tr>
            </thead>
            <tbody id="users-table-body"></tbody>
          </table>
        </div>
      </section>

      <section id="page-reports-block" class="card" style="display:none;margin-top:8px">
        <div style="margin-bottom:12px;display:flex;justify-content:space-between;align-items:center">
          <h3>Active Accident Reports</h3>
          <div class="muted">Manage & assign</div>
        </div>

        <div style="overflow:auto;margin-bottom:12px">
          <table>
            <thead>
              <tr><th>User</th><th>Location</th><th>Time</th><th>Actions</th></tr>
            </thead>
            <tbody id="accident-reports-table"></tbody>
          </table>
        </div>

        <div style="margin-top:8px">
          <h3 style="margin-bottom:8px">Active Theft Reports</h3>
          <div style="overflow:auto">
            <table>
              <thead>
                <tr><th>User</th><th>Location</th><th>Time</th><th>Actions</th></tr>
              </thead>
              <tbody id="theft-reports-table"></tbody>
            </table>
          </div>
        </div>
      </section>
    </main>
  </div>

  <div id="user-modal" class="modal-backdrop" style="display:none" role="dialog" aria-modal="true" aria-labelledby="modal-user-name">
    <div class="modal">
      <div style="display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(255,255,255,0.03);padding-bottom:12px">
        <h3 id="modal-user-name" style="font-size:20px;font-weight:700">User Details</h3>
        <button id="modal-close-btn" class="ghost" type="button">Close</button>
      </div>

      <div style="padding-top:12px">
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
          <div>
            <p class="muted">Email</p>
            <p id="modal-user-email" style="font-weight:700">-</p>
          </div>
          <div>
            <p class="muted">Phone</p>
            <p id="modal-user-phone" style="font-weight:700">-</p>
          </div>
        </div>

        <div style="margin-top:14px">
          <h4 style="margin:0 0 8px 0">Emergency Contacts</h4>
          <ul id="modal-user-contacts" style="list-style:none;padding:0;margin:0"></ul>
        </div>
        <div style="align-self: center;">
          <button id="modal-remove-user" type="button">Remove</button>
        </div>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>